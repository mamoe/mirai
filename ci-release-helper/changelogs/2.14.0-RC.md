## mirai-core

### ä¸å…¼å®¹å˜æ›´

- åˆ é™¤ SwingLoginSolver (#2410)

> å®ƒä»¥å‰æ˜¯è®¾è®¡ç»™è§£å†³å›¾å½¢éªŒè¯ç , è€Œç°åœ¨åŸºæœ¬ä¸ä¼šé‡åˆ°å›¾å½¢éªŒè¯ç äº†ã€‚ç°åœ¨å°†é»˜è®¤ä½¿ç”¨å‘½ä»¤è¡Œç‰ˆæœ¬ LoginSolverã€‚
> ä»¥å‰ä½¿ç”¨ "-Dno-desktop" å¯ä»¥ç¦ç”¨ SwingLoginSolverï¼Œç°åœ¨è¿™ä¸ªé€‰é¡¹å°†æ²¡æœ‰æ•ˆæœï¼Œä¸ä¼šæŠ¥é”™ã€‚

- ç°åœ¨ä½¿ç”¨ RemoteFile å°†ä¼šå¾—åˆ°ç¼–è¯‘é”™è¯¯

> RemoteFile æ—©åœ¨ 2.8 å°±å¼ƒç”¨äº†, ä½¿ç”¨æ—¶ä¼šå¾—åˆ°è­¦å‘Š. ç°åœ¨èµ·ä½¿ç”¨å°†ä¼šå¾—åˆ°ç¼–è¯‘é”™è¯¯.

### æ–°ç‰¹æ€§

- ç¾¤èŠè·å–å†å²æ¶ˆæ¯ (`Group` å®ç° `RoamingSupported`) (#1866, #2332 by @StageGuard )

> å¯ä½¿ç”¨ `group.roamingMessages` / `group.getRoamingMessages()`

- å•†åŸè¡¨æƒ…: çŸ³å¤´å‰ªåˆ€å¸ƒ (#2220 by @cssxsh )

> ç±»å‹åç§°ä¸º `RockPaperScissors`

- ç¾¤æ‰“å¡äº‹ä»¶æ”¯æŒ (#1663, #2217 by @cssxsh )

> ç±»å‹åç§°ä¸º `SignEvent`

- `Announcement` ç°åœ¨å¯ä»¥è·å– å·²ç¡®è®¤/æœªç¡®è®¤ çš„ç¾¤æˆå‘˜ (#2255 by @cssxsh )

### ä¼˜åŒ–å’Œä¿®å¤

- ä¿®å¤æ— æ³•ç™»å½•çš„é—®é¢˜ (#2433 by @sandtechnology )

> æ­¤ä¿®å¤ä¹Ÿä¼šåœ¨ 2.13.4 åŒ…å«

- ä¿®å¤ç¾¤å‘˜åˆ—è¡¨ç¼“å­˜æ–‡ä»¶ä¸å®Œæ•´æ—¶ä¼šå¯¼è‡´ bot init å¤±è´¥çš„é”™è¯¯ (#2399)
- å½“è®¾å¤‡ä¿¡æ¯ç­‰å˜æ›´çš„æ—¶å€™æ¸…é™¤ç¼“å­˜ (#2346, #2388)

> ä¸æ¸…é™¤ä¼šå¯¼è‡´ç™»å½•å¤±è´¥ç­‰é—®é¢˜

- ä¿®å¤ iOS æ— æ³•æŸ¥çœ‹ç§èŠè½¬å‘æ¶ˆæ¯çš„é—®é¢˜ (#1575)
- ä¿®å¤è½¬å‘æ¶ˆæ¯å­˜åœ¨ç‰¹æ®Šå­—ç¬¦æ—¶æ— æ³•åŠ è½½çš„é—®é¢˜ (#2241)
- ä¿®æ­£ `contentToString()` æ³¨é‡Šä¸ä¸¥è°¨å¤„ (#2373, #2374 by @MrXiaoM )
- ä¿®æ­£ PokeMessage.id (#2170)
- ä¿®å¤ QuoteReply æ— æ³•å¼•ç”¨ bot å‘å‡ºçš„ ForwardMessage (#2342)
- ä¿®æ”¹æ—¥å¿—ç­‰çº§çš„é¢œè‰² (#2336)
  > ç°åœ¨ WARN æ˜¯é‡‘é»„è‰²ï¼Œè€Œä¸æ˜¯çº¢è‰²

## mirai-core-mock

### ä¼˜åŒ–å’Œä¿®å¤

- é¿å… MockAbsoluteFile.md5/sha1 å¯èƒ½ä¸ºç©º (#2436 by @Nambers )
- ä¿®å¤éƒ¨åˆ†ä¿¡æ¯æ’¤å›é€»è¾‘ä¸æ­£ç¡®çš„é”™è¯¯ (#2421 by @Nambers )
- ä¿®å¤ `MockNormalMember.modiyAdmin()` é€»è¾‘é”™è¯¯ (#2420 by @Nambers )
- ä¿®å¤ uploadMockImage ä¸Šä¼ ç›¸åŒæ–‡ä»¶æ—¶è§¦å‘ java.nio.file.FileAlreadyExistsException (#2401)
- å¼•å…¥ AvatarGenerator
- ä¿®å¤è”ç³»äººå¤´åƒç­‰ä¿¡æ¯æ›´æ–°åŒæ­¥çš„é—®é¢˜

## mirai-console

### æ–°ç‰¹æ€§

- JvmPlugin ä¸­ç°åœ¨å¯ä»¥è°ƒç”¨ mirai console æ‰€ä½¿ç”¨çš„é’ˆå¯¹ Kotlin object ä¼˜åŒ–åçš„ SPI Service Loader (#2247 by @cssxsh)

### ä¼˜åŒ–å’Œä¿®å¤

- ä¿®å¤ `JvmPlugin.onDisable` è¢«å¤šæ¬¡æ‰§è¡Œçš„é”™è¯¯ (#2015, #2397)
- ä¿®å¤ä½ç‰ˆæœ¬ Android ç³»ç»ŸæŠ¥é”™ `java.lang.NoSuchMethodError: No virtual method getDeclaredAnnotation(Ljava/lang/Class;)L` (#2354 by @zhaodice)
- åœ¨å‘½ä»¤çš„æŠ¥é”™ä¸­å»é™¤ä¸å¿…è¦çš„ `InvocationTargetException` åŒ…è£… (#2258 by @cssxsh )
- ä¼˜åŒ– MiraiLogger (åœ¨ mirai-console) æ€§èƒ½ (#2341)
- SLF4J æ”¯æŒ (#2341)

## IDEA

- æ”¯æŒ 2022.3 (#2372)
  > - æ–°æ’ä»¶ç‰ˆæœ¬å·ä¸º `223-2.14.0-172-1`
  > - æ–°ç‰ˆæœ¬åªæ”¯æŒ 2022.3 + Kotlin 1.7.20 (å› ä¸º 2022.3 æ†ç»‘ 1.7.20)

---------------

## å…³äº mirai-console SLF4J æ”¯æŒ (#2341)

### é…ç½®æ–‡ä»¶ä¿®æ”¹

> ä¿®æ”¹å‡ä¸ºé»˜è®¤é…ç½®, å…ˆå‰å·²ç»ç”Ÿæˆçš„é…ç½®ä¸ä¼šè¿›è¡Œä¿®æ”¹

### `Logger.yml`

```diff
 # é»˜è®¤æ—¥å¿—è¾“å‡ºç­‰çº§
 # å¯é€‰å€¼: ALL, VERBOSE, DEBUG, INFO, WARNING, ERROR, NONE
 defaultPriority: INFO
 # ç‰¹å®šæ—¥å¿—è®°å½•å™¨è¾“å‡ºç­‰çº§
 loggers: 
   example.logger: NONE
   console.debug: NONE
   Bot: ALL
+  org.eclipse.aether.internal: INFO
+  org.apache.http.wire: INFO

+# æ˜¯å¦å¯åŠ¨å¤–éƒ¨æ—¥å¿—æ¡†æ¶æ¡¥æ¥
+binding: 
+  slf4j: true
```

### ABI å˜æ›´

> æ³¨: å®é™…ä¸Š console æ²¡æœ‰ç›´æ¥çš„ ABI å˜æ›´

ä¾èµ–æ›´æ–°: `org.slf4j:slf4j-api:1.7.32` -> `2.0.3`

æ­¤ä¾èµ–çš„æ›´æ–°åªä¼šå½±å“ `slf4j-api` çš„å¯¹æ¥, å¹¶ä¸ä¼šå½±å“ `slf4j-api` çš„å•çº¯ä½¿ç”¨

> å³ä¸ä¼šå¯¹æ’ä»¶æœ‰ä»»ä½•å½±å“, åªä¼šå¯¹éƒ¨åˆ†å¯¹ console è¿›è¡Œé«˜åº¦è‡ªå®šä¹‰çš„ä¼šæœ‰å°‘è®¸å½±å“

### å…¶ä»– API å˜æ›´

- mirai-logging-log4j2 ç°åœ¨ä½¿ç”¨ `org.apache.logging.log4j:log4j-slf4j2-impl`
- mirai-logging-slf4j-logback ç°åœ¨ä½¿ç”¨ 1.3.4
- mirai-core-all ç°åœ¨æºå¸¦çš„æ˜¯ slf4j 2.0.x

-------

æ–°å¹´å¿«ä¹! ğŸ†ğŸ‰




